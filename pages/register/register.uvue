<template>
  <view class="register-container">
    <view class="header">
      <text class="back-icon" @click="goBack">‹</text>
      <text class="title">注册账号</text>
    </view>
    
    <view class="register-form">
      <view class="form-group">
        <text class="form-label">用户名</text>
        <input 
          class="form-input" 
          type="text" 
          v-model="username" 
          placeholder="请输入用户名"
          placeholder-class="placeholder"
        />
      </view>
      
      <view class="form-group">
        <text class="form-label">密码</text>
        <input 
          class="form-input" 
          type="password" 
          v-model="password" 
          placeholder="请输入密码（不少于6位）"
          placeholder-class="placeholder"
        />
      </view>
      
      <view class="form-group">
        <text class="form-label">确认密码</text>
        <input 
          class="form-input" 
          type="password" 
          v-model="confirmPassword" 
          placeholder="请再次输入密码"
          placeholder-class="placeholder"
        />
      </view>
      
      <button 
        class="register-btn" 
        :disabled="!isFormValid" 
        @click="register"
      >
        注册
      </button>
    </view>
  </view>
</template>

<script setup>
import { ref, computed } from 'vue'

// 注册表单数据
const username = ref('')
const password = ref('')
const confirmPassword = ref('')

// 表单验证
const isFormValid = computed(() => {
  return (
    username.value.trim() !== '' &&
    password.value.length >= 6 &&
    password.value === confirmPassword.value
  )
})

// 返回登录页面
const goBack = () => {
  uni.navigateBack()
}

// 注册方法
const register = () => {
  // 这里可以添加实际的注册逻辑，例如调用API
  console.log('注册请求:', { username: username.value, password: password.value })
  
  // 模拟注册成功
  uni.showToast({
    title: '注册成功',
    icon: 'success'
  })
  
  // 注册成功后返回登录页面
  setTimeout(() => {
    uni.navigateBack()
  }, 1500)
}
</script>

<style scoped>
.register-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding: 0 40rpx;
}

.header {
  display: flex;
  align-items: center;
  padding: 60rpx 0 40rpx 0;
}

.back-icon {
  font-size: 48rpx;
  color: $uni-text-color;
  margin-right: 20rpx;
  cursor: pointer;
}

.title {
  font-size: 36rpx;
  font-weight: 600;
  color: $uni-text-color;
}

.register-form {
  width: 100%;
  max-width: 500rpx;
  align-self: center;
}

.form-group {
  margin-bottom: 40rpx;
}

.form-label {
  display: block;
  font-size: 28rpx;
  color: $uni-text-color;
  margin-bottom: 10rpx;
}

.form-input {
  width: 100%;
  height: 80rpx;
  padding: 0 20rpx;
  background: #ffffff;
  border: 1rpx solid $uni-border-color;
  border-radius: 8rpx;
  font-size: 32rpx;
  box-sizing: border-box;
}

.placeholder {
  color: $uni-text-color-placeholder;
}

.register-btn {
  width: 100%;
  height: 80rpx;
  background: $uni-color-primary;
  color: #ffffff;
  font-size: 32rpx;
  font-weight: 600;
  border: none;
  border-radius: 8rpx;
}

.register-btn:disabled {
  opacity: 0.6;
}
</style>